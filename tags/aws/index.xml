<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>aws on Nikaeraintokyo.</title>
    <link>https://nikaera.com/tags/aws/</link>
    <description>Recent content in aws on Nikaeraintokyo.</description>
    <image>
      <url>https://nikaera.com/cover_image.jpg</url>
      <link>https://nikaera.com/cover_image.jpg</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Sat, 23 Jan 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://nikaera.com/tags/aws/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ğŸ“” AWS Lightsail Containers ã« Actix web ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</title>
      <link>https://nikaera.com/archives/aws-lightsail-containers-rust-actix-web/</link>
      <pubDate>Sat, 23 Jan 2021 00:00:00 +0000</pubDate>
      
      <guid>https://nikaera.com/archives/aws-lightsail-containers-rust-actix-web/</guid>
      <description>ã¯ã˜ã‚ã« Actix web ã§ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸã®ã§ã™ãŒã€æŠ€è¡“å‹‰å¼·ã‚‚å…¼ã­ã¦ã„ãŸã®ã§ã€ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã‚‚ä»Šã¾ã§è©¦ã—ãŸã“ã¨ãŒãªã„ã‚‚ã®ã‚’è©¦ãã†ã¨ã—ã¦ã„ã¾ã—ãŸã€‚ãã“ã§ã€æ—¥é ƒæ¥­å‹™ã§ã‚‚ AWS ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€å»å¹´æœ«ã«ç™ºè¡¨ã•ã‚ŒãŸ AWS Lightsail Containers ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã«æ¡ç”¨ã—ã¾ã—ãŸã€‚
AWS Lightsail Containers ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªä½“ã¯éå¸¸ã«ç°¡å˜ã§ã—ãŸã€‚ã¾ãŸã€ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã‚ãŸã‚Š Rust ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ä½œæˆã®ã‚„ã‚Šæ–¹ã‚‚å­¦ã¹ã¾ã—ãŸã€‚ä»Šå›ã¯ãã®ã‚ãŸã‚Šã®æ‰‹é †ã‚’ã¾ã¨ã‚ã‚‹å½¢ã§è¨˜äº‹ã¨ã—ã¦æ›¸ãæ®‹ã—ã¦ãŠãã“ã¨ã«ã—ã¾ã—ãŸã€‚
Actix web ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ é–‹ç™ºã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ React ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚’ã—ã¦ã„ã¦ã€ãƒ“ãƒ«ãƒ‰ã—ãŸã‚‚ã®ã‚’ Actix web ã® public ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã™ã‚‹å½¢ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ä¸‹è¨˜ã® Dockerfile ã§ã¯ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã‚’åˆ©ç”¨ã—ã¦ãŠã‚Šã¾ã™ãŒã€æœ¬è³ªçš„ã«ã¯ FROM rust:1.49 ä»¥é™ã®è¨˜è¿°ãŒ Actix web ã«é–¢ã™ã‚‹ã‚‚ã®ã¨ãªã‚Šã¾ã™ã€‚
# React ãƒ“ãƒ«ãƒ‰ç”¨ã®ã‚¤ãƒ¡ãƒ¼ã‚¸FROMnode:14.15.4-alpine3.10 as client_builderARG REACT_APP_API_URLARG REACT_APP_GYAZO_AUTH_URLARG REACT_APP_GA_UNIVERSAL_IDWORKDIR/clientCOPY ./client/package*.json .RUN yarn installADD ./client .RUN yarn build# Actix web ãƒ“ãƒ«ãƒ‰ç”¨ã®ã‚¤ãƒ¡ãƒ¼ã‚¸FROMrust:1.49# Actix web ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒãƒ¼ãƒˆã‚’å…¬é–‹ã™ã‚‹EXPOSE8080# Actix web ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã«è¿½åŠ ã™ã‚‹WORKDIR/serverADD ./server .# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€å†…ã§ `cargo install` ã—ã¦ãƒ“ãƒ«ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹RUN cargo install --path .</description>
    </item>
    
    <item>
      <title>ğŸ“” MediaPackage ç”¨ã® CloudFront ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ AWS SDK ã§ä½œæˆã™ã‚‹</title>
      <link>https://nikaera.com/archives/cloudfront-for-mediapackage/</link>
      <pubDate>Tue, 15 Dec 2020 00:00:00 +0000</pubDate>
      
      <guid>https://nikaera.com/archives/cloudfront-for-mediapackage/</guid>
      <description>ã¯ã˜ã‚ã« ã¨ã‚ã‚‹äº‹æƒ…ã§ MediaPackage ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç”¨ã® CloudFront ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ AWS SDK ã§ä½œæˆã™ã‚‹æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ãŸã€‚ãã®éš›å¾—ãŸçŸ¥è¦‹ã‚’ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’äº¤ãˆãªãŒã‚‰å‚™å¿˜éŒ²ã¨ã—ã¦è¨˜äº‹ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚
æœ¬è¨˜äº‹å†…å®¹ã§ç´¹ä»‹ã—ã¦ã„ã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ Gist ã«ã‚‚åŒã˜å†…å®¹ã§ã‚¢ãƒƒãƒ—ã—ã¦ã‚ã‚Šã¾ã™ã€‚
ã¡ãªã¿ã« MediaLive + MediaPackage + CloudFront ã®æ§‹æˆã§ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ã—ãŸã„å ´åˆã¯ã€CloudFormation ãŒ MediaPackage ã«ã‚‚å¯¾å¿œã—ãŸã®ã§ CloudFormation ã®åˆ©ç”¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
æœ¬è¨˜äº‹å†…å®¹ã¯ã‚ãã¾ã§ã‚‚ä½•ã‚‰ã‹ã®äº‹æƒ…ã§ã€å¾Œã‹ã‚‰ CloudFront ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ MediaPackage ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ç´ã¥ã‘ãŸã„ã‚±ãƒ¼ã‚¹ç­‰ã§å‚è€ƒã«ãªã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚
å®Ÿè£…å†…å®¹ ä½œæˆã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å†…å®¹ã¯ä¸‹è¨˜ã«ãªã‚Šã¾ã™ã€‚ æœ€ä¸‹éƒ¨ã® createDistributionForMediaPackage ãŒæœ¬è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã«è©²å½“ã™ã‚‹é–¢æ•°ã§ã™ã€‚
import { CloudFront } from &amp;#34;aws-sdk&amp;#34;; import * as url from &amp;#34;url&amp;#34;; import { CreateDistributionWithTagsResult, GetDistributionResult, UpdateDistributionResult } from &amp;#34;aws-sdk/clients/cloudfront&amp;#34;; export class CloudFrontClientForMediaPackage { private cloudFront: CloudFront; constructor() { this.cloudFront = new CloudFront({ region: &amp;#34;ap-northeast-1&amp;#34;, apiVersion: &amp;#39;2020-05-31&amp;#39;, }); } /** * CloudFront ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã™ã‚‹ * @param id CloudFront ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã® ID * @return ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ */ async getDistribution(id: string): Promise&amp;lt;GetDistributionResult&amp;gt; { const distribution = await this.</description>
    </item>
    
  </channel>
</rss>
