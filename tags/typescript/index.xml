<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>typescript on Nikaeraintokyo.</title>
    <link>https://nikaera.com/tags/typescript/</link>
    <description>Recent content in typescript on Nikaeraintokyo.</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Sun, 07 Mar 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://nikaera.com/tags/typescript/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ğŸ“ Jest ã§ private readonly ãªå€¤ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹æ–¹æ³•</title>
      <link>https://nikaera.com/archives/jest-private-readonly-mock/</link>
      <pubDate>Sun, 07 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://nikaera.com/archives/jest-private-readonly-mock/</guid>
      <description>Jest ã§ã‚¯ãƒ©ã‚¹ã® private readonly ãªå¤‰æ•°ã‚’å·®ã—æ›¿ãˆãŸã„æ™‚ã«è‹¥å¹²å¼•ã£ã‹ã‹ã£ãŸã®ã§ãƒ¡ãƒ¢ã£ã¦ãŠãã¾ã™ã€‚ã‚¿ã‚¤ãƒˆãƒ«ã§ã¯ Jest ã¨ã‚ã‚Šã¾ã™ãŒã€æœ¬è¨˜äº‹ã®å†…å®¹ã¯ JavaScript ã§ãƒ¢ãƒƒã‚¯ã™ã‚‹éš›ã®æœ‰åŠ¹ãªæ‰‹æ³•ã® 1 ã¤ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
çµè«–ã‹ã‚‰è¨€ã†ã¨å¤‰æ•°ã‚’å·®ã—æ›¿ãˆãŸã„å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã«ãªã‚Šã¾ã™ã€‚
const mockValue = &amp;#34;&amp;#34;; Object.defineProperty(service, &amp;#34;privateReadOnlyValue&amp;#34;, { value: mockValue, }); ã¡ãªã¿ã«é–¢æ•°ã‚’å·®ã—æ›¿ãˆãŸã„å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã«ãªã‚Šã¾ã™ã€‚
Object.defineProperty(service, &amp;#34;privateSumFunction&amp;#34;, { value: jest.fn((a, b) =&amp;gt; a + b), }); å„ç¨®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ä½¿ã„ã¾ã‚ã—ã¦ã„ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® private readonly ãªå¤‰æ•°ã‚’ãƒ¢ãƒƒã‚¯ã—ãŸå ´åˆã€å€¤ã‚’ãƒªã‚¹ãƒˆã‚¢ã—ãŸã„ã‚±ãƒ¼ã‚¹ã‚‚å‡ºã¦ãã¾ã—ãŸã€‚ãã®å ´åˆã®è¨˜è¿°ã¨ã—ã¦ã¯ã€ä¸‹è¨˜ãŒæœ‰åŠ¹ã§ã—ãŸã€‚
// tmpService å¤‰æ•°ã« service ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ clone ã—ã¦åˆ©ç”¨ã™ã‚‹ const tmpService = Object.create(service); Object.defineProperty(tmpService, &amp;#34;privateReadOnlyValue&amp;#34;, { value: &amp;#34;&amp;#34;, }); å‚è€ƒãƒªãƒ³ã‚¯  Object.create() - JavaScript | MDN Mocking read-only properties for a class Â· Issue #2227 Â· facebook/jest  </description>
    </item>
    
  </channel>
</rss>
